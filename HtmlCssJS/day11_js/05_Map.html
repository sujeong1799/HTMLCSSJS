<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 
        input 2개 생성 => 과목, 점수
        추가버튼 => map에 추가
        출력버튼 => map을 출력  => ul태그안에 li 로 추가
        결과버튼 => 합계, 평균, 합격여부 (60이상 합격) => h3출력
     -->
    <input type="text" id="subject" placeholder="과목입력">
    <input type="text" id="score" placeholder="점수입력">
    <button id="add">추가</button>
    <button id="printBtn">출력</button>
    <button id="resultBtn">결과가 궁금하신가요?</button>

    <ul id="ol">

    </ul>
    <h3 id="result">

    </h3>

    <script>
        // id로 쓰는것들 미리 가져오믄 좋다.
        let str = '';
        let sum = 0;
        let avg = 0;
        let pass = '';
        let printBtn = document.getElementById('printBtn');
        let resultBtn = document.getElementById('resultBtn');
        const myMap = new Map();

        document.getElementById('add').addEventListener('click', function () {
            const subject = document.getElementById('subject').value;
            const score = parseInt(document.getElementById('score').value);
            myMap.set(subject, score);

        })

        
        printBtn.addEventListener('click', function () {
            myMap.forEach(function(value, key){
                str += `과목 : ${key}, 점수 : ${value} <br> `;
            })
            
            document.getElementById('ol').innerHTML = str;
        })

        resultBtn.addEventListener('click', function(){
            // 합계 구하기
            for(const a of myMap.values()){
                
                sum += a;
            }

            //  평균 구하기
            avg = sum / myMap.size;

            // 합격여부
            pass = (avg >= 60)? '합격' : '불합격';
            document.getElementById('result').innerHTML = 
            `합계 : ${sum}, 평균 : ${avg.toFixed(2)}, 합격여부 : ${pass} `;
        })

    </script>
</body>

</html>